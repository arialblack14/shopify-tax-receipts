<script>
ShopifyApp.ready(function(){
  ShopifyApp.Bar.setTitle('Help')
});
</script>

<h3>How it Works</h3>
<p>We listen for new orders on your shop and if one of the orders contains a product which you've setup to receive a tax receipt then we take care of it. Your customers will receive a second email (in addition to their order receipt from Shopify) containing a PDF tax receipt for their donation.</p>

<hr>

<h3>Adding Donations to Products</h3>
<p>To select which products should recieve tax receipts on purchase add products using the 'Add a product' button on the home page or go to your <a href=<%="#{current_shop_url}/admin/products"%> target="_blank">products</a> page and use the bulk dropdown</p>
<img src='<%="#{base_url}/add_products.gif"%>' alt="Add Products using the bulk app link">
<p>A product can also be added from the product edit page by using the app link in the top right corner</p>
<img src='<%="#{base_url}/add_product.png"%>' alt="Add Product using the app link">

<hr>

<h3>Editing the Email Template</h3>
<p>You can edit the templates for the email and receipt pdf that gets sent out for a donation. The templates are written in liquid just like your Shopify theme and other shop emails.</p>
<p>The following objects are available in the templates:</p>

<strong>charity</strong>
<pre>
name
charity_id
</pre>

<strong>donation</strong>
<pre>
order_name
order_number
email
first_name
last_name
address1
city
country
zip
created_at
donation_amount
</pre>

<strong>shop</strong>
<p>
  <a href="https://help.shopify.com/api/reference/shop">shop fields</a>
</p>

<p>Object fields can be accessed via dot syntax `charity.name` or hash syntax `charity['name']`. Remember to always check your templates with preview and test email buttons after editing.</p>

<hr>
